version: '3.8'

services:
  tor:
    image: osminogin/tor-simple
    container_name: tor-simple
    restart: always
    ports:
      - "9050:9050"
      - "9051:9051"
    volumes:
      - tor-data:/var/lib/tor
      - ${APP_DATA_DIR}/torrc:/etc/tor/torrc:ro
    networks:
      - 0net-network
  
  zeronet:
    image: nofish/zeronet
    container_name: zeronet
    platform: linux/amd64
    networks:
      - 0net-network
    volumes:
      - ${APP_DATA_DIR}/data:/root/data
      - tor-data:/var/lib/tor
    ports:
      - "15441:15441"
      - "43112:43110"
    restart: unless-stopped
    depends_on:
      - tor

volumes:
  tor-data:

networks:
  0net-network: